apiVersion: v1
kind: Service
metadata:
  name: mockservice
  namespace: mockspace
spec:
  selector:
    app: mockapi
  type: ClusterIP
  sessionAffinity: None
  sessionAffinityConfig:
    clientIP:
      timeoutSeconds: 10800
  ports:
  - name: mockservice
    protocol: TCP
    port: 80
    targetPort: mockport   # this should match the named port in deployment, and it can be different from containerPort
    # CluterIP dont need nodePort, but if we change type to NodePort, then we need to specify nodePort here.
    # nodePort: 3001